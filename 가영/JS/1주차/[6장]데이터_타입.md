# 6장. 데이터 타입

> 데이터 타입은 값의 종류를 말함.

- 자바스크립트의 모든 값은 데이터 타입을 가짐.
- 자바스크립트(ES6)는 **7개의 데이터 타입**을 제공함.

  - **원시 타입(primitive type)** 과 **객체 타입(object/reference type)** 으로 분류할 수 있음.

### 데이터 타입(Data Type)

| 구분      | 데이터 타입           | 설명                                                |
| :-------- | :-------------------- | :-------------------------------------------------- |
| 원시 타입 | 숫자 `number` 타입    | 숫자. 정수와 실수 구분 없이 하나의 숫자 타입만 존재 |
|           | 문자열 `string` 타입  | 문자열                                              |
|           | 불리언 `boolean` 타입 | 논리적 참(`true`)과 거짓(`false`)                   |
|           | `undefined` 타입      | `var` 키워드로 선언된 변수에 암묵적으로 할당되는 값 |
|           | `null` 타입           | 값이 없다는 것을 의도적으로 명시할 때 사용하는 값   |
|           | 심벌 `symbol` 타입    | ES6에서 추가된 7번째 타입                           |
| 객체 타입 |                       | 객체, 함수, 배열 등                                 |

- 숫자(number) 타입의 값 `1`과 문자열(string) 타입의 값 `'1'`은 비슷해 보이지만 전혀 다른 값임.
  - 값을 생성한 목적과 용도가 다름.
- 숫자 타입의 값은 주로 산술 연산을 위해 생성하지만 문자열 타입의 값은 주로 텍스트를 화면에 출력하기 위해 생성함.
- 또한 확보해야 할 메모리 공간의 크기도 다르고 메모리에 저장되는 2진수도 다르며 읽어 들여 해석하는 방식도 다름.

## 숫자 타입

> 자바스크립트는 하나의 숫자 타입만 존재함.

#### 예제:

```js
var integer = 10; // 정수
var double = 10.12; // 실수
var negative = -20; // 음수
```

- ECMAScript 사양에 따르면 숫자 타입의 값은 배정밀도 64비트 부동소수점 형식을 따름.
  - **모든 수를 실수로 처리**하며 정수만 표현하기 위한 데이터 타입이 별도로 존재하지 않음.

#### 예제:

```js
var binary = 0b01000001; // 2진수
var octal = 0o101; // 8진수
var hex = 0x41; // 16진수

// 표기법만 다를 뿐 모두 같은 값임.
console.log(binary); // 65
console.log(octal); // 65
console.log(hex); // 65
console.log(binary === octal); // true
console.log(octal === hex); // true
```

- 정수, 실수, 2진수, 8진수, 16진수 리터럴은 모두 메모리에 배정밀도 64비트 부동소수점 형식의 2진수로 저장됨.
- 자바스크립트는 2진수, 8진수, 16진수를 표현하기 위한 데이터 타입을 제공하지 않기 때문에 이들 값을 참조하면 **모두 10진수로 해석**됨.

#### 예제:

```js
console.log(1 === 1.0); // true
console.log(4 / 2); //2
console.log(3 / 2); // 1.5
```

- 자바스크립트의 숫자 타입은 정수만을 위한 타입이 없고 모든 수를 실수로 처리한다고 했음.
- 이는 정수로 표시된다 해도 사실은 실수라는 것을 의미함.
- 정수로 표시되는 수끼리 나누더라도 실수가 나올 수 있음.

#### 예제:

```js
console.log(10 / 0); // Infinity
console.log(10 / -0); // -Infinity
console.log(1 * "String"); // NaN
```

- 숫자 타입은 추가적으로 **세 가지 특별한 값**도 표현할 수 있음.
  - `Infinity`: 양의 무한대
  - `-Infinity`: 음의 무한대
  - `NaN`: 산술 연산 불가(not-a-number)

#### 예제:

```js
var x = nan; // ReferenceError: nan is not defined
```

- 자바스크립트는 대소문자를 구별하므로 `NaN`을 `NAN`, `Nan`, `nan`과 같이 표현하면 에러가 발생함.
- 자바스크립트 엔진은 `NAN`, `Nan`, `nan`을 값이 아닌 **식별자**로 해석함.

## 문자열 타입

> 문자열 타입은 텍스트 데이터를 나타내는 데 사용함.

#### 예제:

```js
var string;
string = "문자열";
string = "문자열";
string = `문자열`;

string = '작은따옴표로 감싼 문자열 내의 "큰따옴표"는 문자열로 인식됨.';
string = "큰따옴표로 감싼 문자열 내의 '작은따옴표'는 문자열로 인식됨.";
```

- 문자열은 0개 이상의 16비트 유니코드 문자(UTF-16)의 집합으로 전 세계 대부분의 문자를 표현할 수 있음.
- 문자열은 작은따옴표(''), 큰따옴표("") 또는 백틱(``)으로 텍스트를 감쌈.
- 자바스크립트에서 가장 일반적인 표기법은 **작은따옴표**를 사용하는 것임.

#### 예제:

```js
var string = hello;
```

- 다른 타입의 값과 달리 문자열을 따옴표로 감싸는 이유는 키워드나 식별자 같은 토큰과 구분하기 위해서임.
- 만약 문자열을 따옴표로 감싸지 않으면 자바스크립트 엔진은 키워드나 식별자 같은 토큰으로 인식함.
- **자바스크립트의 문자열은 원시 타입이며 변경 불가능한 값**임. 문자열이 생성되면 그 문자열을 변경할 수 없다는 것을 의미함.

## 템플릿 리터럴(Template Literal)

> ES6에서 도입된 새로운 문자열 표기법임.

#### 예제:

```js
var template = `Template literal`;
console.log(template); // Template literal
```

- **백틱(`)** 을 사용해 멀티라인 문자열, 표현식 삽입, 태그드 템플릿 등 다양한 문자열 처리 기능을 제공함.
- 런타임에 일반 문자열로 변환되어 처리됨.

### 멀티라인 문자열

> 일반 문자열 내에서는 줄바꿈(개행)이 허용되지 않음.

#### 예제:

```js
var str = 'Hello
world.';

// SyntaxError: Invalid or unexpected token
```

- 일반 문자열 내에서 줄바꿈 등의 공백을 표현하려면 백슬래시(`\`)로 시작하는 **이스케이프 시퀀스**를 사용해야 함.

#### 이스케이프 시퀀스 정리

| 이스케이프 시퀀스 | 의미                                                                     |
| :---------------- | :----------------------------------------------------------------------- |
| `\0`              | Null                                                                     |
| `\b`              | 백스페이스                                                               |
| `\f`              | 폼 피드 (Form Feed): 프린터로 출력 시 다음 페이지 시작 위치로 이동       |
| `\n`              | 개행 (Line Feed): 다음 줄로 이동                                         |
| `\r`              | 개행 (Carriage Return): 커서를 줄 처음으로 이동                          |
| `\t`              | 탭 (수평)                                                                |
| `\v`              | 탭 (수직)                                                                |
| `\uXXXX`          | 유니코드 문자. 예: `\u0041` → `'A'`, `\uD55C` → `'한'`, `\u{1F600}` → 😀 |
| `\'`              | 작은따옴표 (`'`)                                                         |
| `\"`              | 큰따옴표 (`"`)                                                           |
| `\\`              | 백슬래시 (`\`)                                                           |

### 표현식 삽입

> 문자열은 문자열 연산자 `+`를 사용해 연결할 수 있음.

#### 예제:

```js
var first = "Ung-mo";
var last = "Lee";

// ES5: 문자열 연결
console.log("My name is " + first + " " + last + "."); // My name is Ung-mo Lee.
```

- `+` 연산자는 피연산자 중 하나 이상이 문자열인 경우 문자열 연결 연산자로 동작함.
  - 그 외의 경우에는 덧셈 연산자로 동작함.

#### 예제:

```js
var first = "Ung-mo";
var last = "Lee";

// ES6: 표현식 삽입
console.log(`My name is ${first} ${last}.`); // My name is Ung-mo Lee.
```

- 템플릿 리터럴 내에서는 표현식 삽입을 통해 간단히 문자열을 삽입할 수 있음.
- 문자열 연산자보다 가독성 좋고 간편하게 문자열을 조합할 수 있음.

#### 예제:

```js
console.log(`1 + 2 = ${1 + 2}`); // 1 + 2 = 3
```

- 표현식을 삽입하려면 `${}`으로 표현식을 감쌈.
- 이때 표현식의 평가 결과가 문자열이 아니더라도 문자열로 타입이 강제로 변환되어 삽입됨.

#### 예제:

```js
console.log("1 + 2 = ${1 + 2}"); // 1 + 2 = ${1 + 2}
```

- 표현식 삽입은 반드시 **템플릿 리터럴 내에서 사용**해야 함.
- 템플릿 리터럴이 아닌 일반 문자열에서의 표현식 삽입은 문자열로 취급됨.

## `Boolean` 타입

> 불리언 타입의 값은 논리적 참, 거짓을 나타내는 `true`와 `false`뿐임.

#### 예제:

```js
var foo = true;
console.log(foo); // true

foo = false;
console.log(foo); // false
```

## `undefined` 타입

> `undefined` 타입의 값은 `undefined`가 유일함.

#### 예제:

```js
var foo;
console.log(foo); // undefined
```

- 개발자가 의도적으로 할당하기 위한 값이 아니라 자바스크립트 엔진이 변수를 초기화할 때 사용하는 것임.

## `null` 타입

> `null` 타입의 값은 `null`이 유일함.

- 자바스크립트는 대소문자를 구별하므로 `null`은 `Null`, `NULL` 등과 다름.

#### 예제:

```
var foo = 'Lee';

foo = null;
```

- 프로그래밍 언어에서 `null`은 변수에 값이 없다는 것을 의도적으로 명시(의도적 부재)할 때 사용함.
- 변수에 `null`을 할당하는 것은 변수가 이전에 참조하던 값을 더 이상 참조하지 않겠다는 의미임.
  - 이는 이전에 할당되어 있던 값에 대한 참조를 명시적으로 제거하는 것을 의미하며 자바스크립트 엔진은 누구도 참조하지 않는 메모리 공간에 대해 가비지 콜렉션을 수행할 것임.

## `Symbol` 타입

> ES6에서 추가된 7번째 타입으로 변경 불가능한 원시 타입의 값임.

#### 예제:

```js
// 심벌 값 생성
var key = Symbol("key");
console.log(typeof key); // symbol

// 객체 생성
var obj = {};

// 이름이 충돌할 위험이 없는 유일무이한 값인 심벌을 프로퍼티 키로 사용함.
obj[key] = "value";
console.log(obj[key]); // value
```

- 심벌 값은 다른 값과 중복되지 않는 유일무이한 값임.
- 주로 이름이 충돌할 위험이 없는 객체의 유일한 프로퍼티 키를 만들기 위해 사용함.
- 심벌 이외의 원시 값은 리터럴을 통해 생성하지만 심벌은 `Symbol` 함수를 호출해 생성함.
  - 이때 생성된 심벌 값은 노출되지 않으며 다른 값과 절대 중복되지 않는 유일무이한 값임.

## 객체 타입

> 자바스크립트는 객체 기반의 언어이며 **자바스크립트를 이루고 있는 거의 모든 것이 객체**라는 것임.

## 데이터 타입의 필요성

### 데이터 타입에 의한 메모리 공간의 확보와 참조

- 값을 저장하려면 먼저 메모리 공간의 크기를 알아야 함.
- 자바스크립트는 데이터 타입에 따라 얼마나 많은 메모리 공간을 확보할지 결정함.

### 데이터 타입에 의한 값의 해석

- 메모리에 저장된 값은 2진수 형태이므로 데이터 타입에 따라 해석 방식이 달라짐.

## 동적 타이핑(Dynamic Typing)

> 자바스크립트는 동적 타입 언어(dynamic typing language)임.

- 변수 선언 시 데이터 타입을 명시하지 않음.
- 변수에 할당된 값에 따라 타입이 런타임에 동적으로 결정됨.
- 재할당을 통해 타입을 자유롭게 변경할 수 있음.

### 동적 타입 언어와 정적 타입 언어

- 정적 타입 언어(C, Java 등)는 변수를 선언할 때 타입을 명시해야 하며 선언한 타입 외의 값을 할당할 수 없음.

  - 컴파일 시점에 타입 검사(type check) 수행함.
  - 타입 불일치 시 에러가 발생하고 실행 자체가 불가함.

- 자바스크립트는 **정적 타입 언어**와 달리 변수 선언 시 타입을 지정하지 않음.
  - `var`, `let`, `const` 키워드로 선언만 하면 어떤 값이든 자유롭게 할당 가능함.
  - **런타임 시점**에 변수에 할당된 값에 따라 타입이 결정됨.

#### 대표적인 정적 타입 언어:

- C, C++, Java, Kotlin, Go, Haskell, Rust, Scala 등

#### 대표적인 동적 타입 언어:

- JavaScript, Python, Ruby, PHP, Lisp, Perl 등

### 동적 타입 언어와 변수

> 동적 타입 언어의 변수는 어떤 타입의 값이라도 자유롭게 할당 가능함.

- 편리하지만 타입에 대한 감각이 무뎌지기 쉬워 실수가 잦아질 수 있음.
- 런타임에서야 타입이 결정되므로 값이 바뀌기 전까지는 타입을 알 수 없음.
- 동적 타입 언어는 **유연성(flexibility) 은 높지만, 신뢰성(reliability) 은 떨어질 수 있음**.
