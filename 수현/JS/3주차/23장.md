# 실행 컨텍스트

## 소스코드의 타입

-전역 코드 : 전역에 존재하는 소스코드. 전역에 정의된 함수, 클래스 등의 내부 코드는 포함되지 않음.
-함수 코드 : 함수 내부에 존재하는 소스코드. 함수 내부에 중첩된 함수, 클래스 등의 내부 코드는 포함되지 않음.
-eval 코드 : 빌트인 전역 함수인 eval 함수에 인수로 전달되어 실행 되는 소스코드
-모듈코드 : 모듈 내부에 존재하는 소스코드. 모듈 내부의 함수, 클래스 등의 내부 코드는 포함되지 않음.

## 소스 코드의 평가와 실행

1) 소스 형가 과정

 - 실행 컨텍스트를 생성하고 변수, 함수 등의 선언문만 먼저 실행하여 생성된 변수나 함수 식별자를 키로 실행 컨텍스트가 관리하는 스코프에 등록.

 2) 소스코드의 실행

 - 소스코드 실행에 필요한 정보, 즉 변수나 함수의 참조를 실행 컨텍스트가 관리하는 스코프에서 검색하여 취득. 그리고 변수 값의 변경 등 소스코드의 실행 경과는 다시 실행 컨텍스트가 관리하는 스코프에 등록.

## 실행 컨텍스트의 역할

1) 전역 코드 평가
2) 전역 코드 실행
3) 함수 코드 평가
4) 함수 코드 실행

- 실행 컨텍스트는 소스코드를 실행하는 데 필요한 환경을 제공하고 코드의 실행 결과를 실제로 관리하는 영역.

## 실행 컨텍스트 스택

```javascript 
const x = 1;

function foo () {
    const y = 2;

    function bar () {
        const z = 3;
        console.log(x + y + z);
    }
    bar();
}

foo();
```
위 함수에 의해 생성된 실행 컨텍스트는 스택 자료구조로 관리됨. : **실행 컨텍스트 스택**

1) 전역 코드의 평가와 실행
2) foo 함수 코드의 평가와 실행
3) bar 함수 코드의 평가와 실행
4) foo 함수 코드로 복귀
5) 전역 코드로 복귀

## 렉시컬 환경
- 키와 값을 갖는 객체 형태의 스코프를 생성하여 식별자를 키로 등록하고 식별자에 바인딩된 값을 관리.

